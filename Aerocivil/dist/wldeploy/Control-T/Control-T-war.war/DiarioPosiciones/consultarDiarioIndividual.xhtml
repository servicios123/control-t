<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:xf="http://www.xfaces.com/jsf">
    <body>
        <ui:composition template="../template_interior.xhtml">

            <ui:define name="titulo">
                <h:outputText value="#{msg.consultarDiarioIndividual}" ></h:outputText>
            </ui:define>

            <ui:define name="contenido">

                <br></br>
                <h:form>
                    <ui:include src="filtroFuncionarioDependencia.xhtml">
                        <ui:param name="funFiltroVisible" value="true"/>
                    </ui:include>
                    <div class="divOverFlow">
                        <p:dataTable value="#{controlDiarioPosicionesBBean.lista}" var="item" styleClass="tabla_lista"
                                     paginator="true" paginatorPosition="bottom" rows="31"  
                                     paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"  
                                     currentPageReportTemplate="#{msg.currentPageReportTemplate}"
                                     id="carTable" draggableColumns="true" lazy="true"
                                     emptyMessage="#{msg.emptyList}" paginatorAlwaysVisible="false">
                            <p:columnGroup type="header">  
                                <p:row>  
                                    <p:column rowspan="2" width="4%">  
                                        <f:facet name="header"><h:outputText value="#{msg.dia}"/></f:facet>
                                    </p:column>
                                    <p:column rowspan="2"  width="7%">  
                                        <f:facet name="header"><h:outputText value="#{msg.jornadaOrdinaria}"/></f:facet>
                                    </p:column>
                                    <p:column rowspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.jornadaExtra}"/></f:facet>
                                    </p:column>
                                    <p:column colspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.posiciones}"/></f:facet>
                                    </p:column>
                                    <p:column colspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.horas}"/></f:facet>
                                    </p:column>
                                    <p:column rowspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.observaciones}"/></f:facet>
                                    </p:column>
                                    <p:column colspan="6" >  
                                        <f:facet name="header"><h:outputText value="#{msg.modTurnos}"/></f:facet>
                                    </p:column>
                                    <p:column rowspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.retardo}"/></f:facet>
                                    </p:column>
                                    <p:column rowspan="2" >  
                                        <f:facet name="header"><h:outputText value="#{msg.supervisor}"/></f:facet>
                                    </p:column>
                                </p:row>  
                                <p:row>  
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.posicionOrdinaria}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.posicionExtra}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.posicionOrdinaria}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.posicionExtra}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.CPOrd}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.CPExt}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.CSOrd}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.CSExt}"/></f:facet>
                                    </p:column>
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.HOrd}"/></f:facet>
                                    </p:column>                            
                                    <p:column >  
                                        <f:facet name="header"><h:outputText value="#{msg.HExt}"/></f:facet>
                                    </p:column>                            
                                </p:row>
                            </p:columnGroup>
                            <p:column>
                                <f:facet name="header"><h:outputText value="#{msg.dia}"/></f:facet>
                                <h:outputText value="#{item[0].dia}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.jornadaOrdinaria}"/></f:facet>
                                <h:outputText value="#{item[0].jorn}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.jornadaExtra}"/></f:facet>
                                <h:outputText value="#{item[1].jorn}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.posicionOrdinaria}"/></f:facet>
                                <h:outputText value="#{item[0].pjAlias}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.posicionExtra}"/></f:facet>
                                <h:outputText value="#{item[1].pjAlias}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.horasOrdinaria}"/></f:facet>
                                <h:outputText value="#{item[0].horas}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.horasExtra}"/></f:facet>
                                <h:outputText value="#{item[1].horas}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.observaciones}"/></f:facet>
                                <h:outputText value="#{item[0].dposObservaciones} / #{item[1].dposObservaciones}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.CPOrd}"/></f:facet>
                                <h:outputText value="#{item[0].funRealiza}" rendered="#{item[0].dposTipoRealizacion=='CP'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.CPExt}"/></f:facet>
                                <h:outputText value="#{item[1].funRealiza}" rendered="#{item[1].dposTipoRealizacion=='CP'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.CSOrd}"/></f:facet>
                                <h:outputText value="#{item[0].funRealiza}" rendered="#{item[0].dposTipoRealizacion=='CS'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.CSExt}"/></f:facet>
                                <h:outputText value="#{item[1].funRealiza}" rendered="#{item[1].dposTipoRealizacion=='CS'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.HOrd}"/></f:facet>
                                <h:outputText value="#{item[0].funRealiza}" rendered="#{item[0].dposTipoRealizacion=='H'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.HExt}"/></f:facet>
                                <h:outputText value="#{item[1].funRealiza}" rendered="#{item[1].dposTipoRealizacion=='H'}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.retardoOrd}"/></f:facet>
                                <h:outputText value="#{item[0].dposMinRetardo}" />
                            </p:column>
                            <p:column >
                                <f:facet name="header"><h:outputText value="#{msg.supervisor}"/></f:facet>
                                <h:outputText value="#{item[0].supervisor}" />
                            </p:column>

                        </p:dataTable>


                        <h:commandButton action="#{controlDiarioPosicionesBBean.exportPDF}"
                                         value="#{msg.generarReporte}"
                                         rendered="#{not empty controlDiarioPosicionesBBean.lista}"/>

                    </div>

                </h:form>

            </ui:define>



        </ui:composition>
    </body>
</html>