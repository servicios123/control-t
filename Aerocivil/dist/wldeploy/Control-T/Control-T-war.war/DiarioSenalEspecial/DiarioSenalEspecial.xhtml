<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:xf="http://www.xfaces.com/jsf"
      xmlns:c="http://java.sun.com/jsp/jstl/core">   
    <h:body>
        <ui:composition template="../template_interior.xhtml">
            <ui:define name="titulo">

                <h:outputText value="#{msg.dseConfigurarDiarioSenalesEspeciales}" ></h:outputText>

            </ui:define>
            <ui:define name="contenido">

                <style>
                    .tabColor{
                        color: #fff;
                        background: rgb(37, 57, 121) !important;
                    }
                    .ui-widget-header
                    { 
                        color: #fff !important;
                        background: #253979 !important;
                    }
                    .ui-tabs-nav
                    {                        
                        background: rgb(37, 57, 121) !important;
                        color: #fff;
                    }
                    .tabla_coloreada tbody tr:nth-child(odd)
                    {
                        background:#eee; 
                    }
                    .ui-tabs-left > .ui-tabs-nav
                    {
                        height:auto;
                        width:20%;
                    }
                    .ui-tabs-left > .ui-tabs-panels
                    {
                        width:78%;
                        overflow-x:auto;
                    }
                    .ui-tabs.ui-tabs-left > .ui-tabs-nav li
                    {
                        margin:0;
                        font-weight:normal;
                    }
                    .ui-tabs .ui-tabs-nav li a 
                    {
                        padding:.5em .2em;
                        font-weight:normal;
                    }
                    .ui-tabs.ui-tabs-top > .ui-tabs-nav li {
                        /*max-width: 14%;*/
                        overflow: hidden;
                    }

                    textarea
                    {
                        width:100% !important;
                    }
                    .sinBorde tr, .sinBorde  td
                    {
                        border:none !important;
                    }
                    .tabla_obs_llegada tr td:nth-child(1)
                    {
                        width:10%;
                    }
                    .tabla_obs_llegada tr td textarea
                    {
                        width:50% !important;
                    }
                    .tabla_info_importante tr td:nth-child(odd)
                    {
                        width:8%;
                    }
                    .tabla_info_importante tr td:nth-child(2)
                    {
                        width:26%;
                    }
                    .tabla_info_importante tr td:nth-child(4),.tabla_info_importante tr td:nth-child(6)
                    {
                        width:15%;
                    }
                    .tabla_info_importante tr td:nth-child(8)
                    {
                        width:15%;
                    }
                    .tabla_categoria_serie tr td:nth-child(1),
                    .tabla_resto_info tr td:nth-child(1)
                    {
                        width:100px;
                    }
                    .tabla_categoria_serie tr td:nth-child(2)
                    {
                        width:180px;
                    }
                    .tabla_categoria_serie tr td table tr td:nth-child(odd)
                    {
                        width:10px;
                    }
                    .tabla_actividades tr td:nth-child(1)
                    {
                        width:10%;
                    }
                    .tabla_actividades tr td:nth-child(4)
                    {
                        width:55%;
                    }
                    .tabla_actividades tr td:nth-child(3)
                    {
                        width:15%;
                    }
                    .tabla_actividades tr td:nth-child(2)
                    {
                        width:20%;
                    }
                    #dsfSaleTemprano textarea
                    {
                        width:550px !important;
                    }
                    .tabla_aviso tr td, .tabla_aviso tr th
                    {
                        padding:0 5px;
                    }


                </style>
                <h:form rendered="false">
                    <div class="ui-messages ui-widget">
                        <div class="ui-messages-warn ui-corner-all">
                            <span class="ui-messages-warn-icon"></span>
                            <ul>
                                <li>
                                    <h:panelGrid columns="4" styleClass="tabla_aviso">
                                        <h:outputText value="Aún no se ha cerrado el Diario de Señales de la jornada "/>
                                        <h:outputText value="#{diarioSenalEspecialBBean.verDsf.dsfDiarioSenalEspecial.dseJornadaOp.joAlias}"/>
                                        <h:outputText value="Si desea cerrarlo hacer click "/>
                                        <p:commandLink action="#{diarioSenalEspecialBBean.verDSF}" value="Aquí"/>
                                    </h:panelGrid>
                                </li>
                            </ul>
                        </div>
                    </div>   

                </h:form>

                <p:dialog widgetVar="confirmation_saletemprano" resizable="false" header="#{msg.dsfSaliendo}" showEffect="fade" hideEffect="explode" modal="true" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada != null and ddiarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraSalida==null}">
                    <h:form id="dsfSaleTemprano">           
                        <h:panelGrid styleClass="tabla_formulario" columns="2" >                         
                            <h:outputText  value="#{msg.dsfObservacionSalida}" rendered="#{diarioSenalEspecialBBean.sale_temprano}" />   
                            <p:inputTextarea  style="resize: none;width:550px !important;height:100px;overflow:auto;"  value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfObservacionSalida}"  rendered="#{diarioSenalEspecialBBean.sale_temprano}" />

                            <h:commandButton value="#{msg.dsiConfirmar}" action="#{diarioSenalEspecialBBean.salidaDsf}"  />                                    
                            <h:commandButton value="#{msg.cancelar}" onclick="confirmation_saletemprano.hide()"/>


                        </h:panelGrid>
                    </h:form> 
                </p:dialog>





                <h:form>

                    <p:panel header="#{msg.dseInfoBasica}" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiId == null and diarioSenalEspecialBBean.jornada.joId != null and diarioSenalEspecialBBean.diarioSenalEspecial.dseId !=null}" >
                        <h:panelGrid columns="8"  styleClass="tabla_formulario tabla_coloreada tabla_info_importante">
                            <h:outputText value="#{msg.funcionario}"/>
                            <h:outputText style='background:#eee;' value="#{loginBBean.funcionarioTO.funcionario.funNombre}&nbsp;-&nbsp;#{loginBBean.funcionarioTO.funcionario.funAlias}" />



                            <h:outputText value="#{msg.dseFecha}" />
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseFecha}" >
                                <f:convertDateTime dateStyle="full" type="date" pattern="dd/MM/yyyy"/>
                            </h:outputText> 

                            <h:outputText value="#{msg.dseJornada}" />
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseJornadaOp.joAlias}"/>                        

                            <xf:selectOneMenu entity="#{diarioSenalEspecialBBean.diarioSenalFuncionario}" fieldName="dsfPosicion" disabled="#{diarioSenalEspecialBBean.otroTurno}">
                                <f:converter converterId="PosicionConverter" binding="#{PosicionConverter}"/>
                                <f:selectItems value="#{diarioSenalEspecialBBean.posiciones}" var="ts" itemValue="#{ts}" itemLabel="#{ts.posicionNacional.pnAlias}"/>                                                                                                
                            </xf:selectOneMenu> 

                        </h:panelGrid>
                        <h:panelGrid columns="2" styleClass="tabla_formulario "  style="width: max-content;">
                            <p:selectBooleanCheckbox value="#{diarioSenalEspecialBBean.otroTurno}">
                                <p:ajax update="dsfPosicion" />
                            </p:selectBooleanCheckbox>
                            <h:outputText value="Otro Turno" style="width: 100% !important"/>
                        </h:panelGrid>

                        <h:panelGrid columns="8"  styleClass="tabla_formulario" rendered="false">                            

                            <h:outputText value="#{msg.dsfHoraIngreso}"/>
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada}"/>

                            <h:outputText value="#{msg.dsfHoraReceso}"/>
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraReceso}"/>

                            <h:outputText value="#{msg.dsfHoraRegreso}"/>
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraRegreso}"/>

                            <h:outputText value="#{msg.dsfHoraSalida}"/>
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraSalida}"/>

                        </h:panelGrid> 


                        <h:panelGrid columns="2"  styleClass="tabla_formulario tabla_obs_llegada" rendered="false">
                            <h:outputText value="#{msg.dsfObservacionLlegada}" rendered="#{diarioSenalEspecialBBean.llega_tarde and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada == null}"/>                            
                            <p:inputTextarea  style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfObservacionEntrada}"  rendered="#{diarioSenalEspecialBBean.llega_tarde  and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada == null}" required="true" />

                            <h:outputText value="#{msg.dsfObservacionLlegada}" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada != null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfObservacionEntrada!=null}"/>                            
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfObservacionEntrada}" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada != null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfObservacionEntrada!=null}"/>                            
                        </h:panelGrid>     



                        <h:panelGrid columns="4" styleClass="tabla_formulario marginTop" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado == 'ABIERTO' and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' }">
                            <h:commandButton value="#{msg.dsfIngresar}" action="#{diarioSenalEspecialBBean.entradaDsf}" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada == null}"/>
                            <h:commandButton  value="#{msg.dsfTomarReceso}" action="#{diarioSenalEspecialBBean.recesoDsf}" rendered="false"/>
                            <h:commandButton value="#{msg.dsfRegresar}" action="#{diarioSenalEspecialBBean.regresoDsf}" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraEntrada != null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraReceso!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfHoraRegreso==null }"/>
                            <p:commandButton actionListener="#{diarioSenalEspecialBBean.operarSaleTemprano}" oncomplete="confirmation_saletemprano.show()"  value="#{msg.dsfSalir}" rendered="false"/>

                        </h:panelGrid>

                        <h:panelGrid columns="1" styleClass="tabla_formulario" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado == 'ABIERTO'}">
                            <p:commandButton value="#{msg.dseCerrar}" oncomplete="confirmation_cerrar_dse.show()" rendered="false"/>
                        </h:panelGrid>
                        <h:panelGrid columns="1"  styleClass="tabla_formulario" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado != 'ABIERTO'}">
                            <h:outputText  styleClass="bold center red" value="#{msg.dseCerrado}"/> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" styleClass="tabla_formulario" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado!='ABIERTO'}">
                            <h:outputText styleClass="bold center red" value="#{msg.dsfCerrado}"/> 
                        </h:panelGrid>                     


                    </p:panel>     
                </h:form>    



                <p:panel styleClass="marginTop" header="#{msg.dsiFormulario}" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                    <h:form id="formulario_traer_formulario">  
                        <h:panelGrid columns="3" styleClass="tabla_formulario">
                            <xf:selectOneMenu id="select_traer_formulario" style="width:350px !important;" entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiTipo" >
                                <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalTipos}" var="tipo" itemValue="#{tipo}" itemLabel="#{tipo.dstNombre}"/>
                                <f:converter converterId="DiarioSenalTipoConverter" binding="#{DiarioSenalTipoConverter}" />                                                            
                                <f:ajax listener="#{diarioSenalEspecialBBean.disabledFalse}" render="boton_traer_formulario"/>
                            </xf:selectOneMenu>

                            <h:commandButton disabled="#{diarioSenalEspecialBBean.disabled}" id="boton_traer_formulario" value="#{msg.dsiTraerFormulario}" action="#{diarioSenalEspecialBBean.traerFormulario}"/>

                        </h:panelGrid>                        
                    </h:form>

                    <!-- Form 1 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==1}">
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>

                        <h:panelGrid columns="4" styleClass="tabla_formulario  tabla_categoria_serie" >
                            <xf:selectOneMenu entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiCategoria" tabindex="1">
                                <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalCategorias}" var="categoria" itemValue="#{categoria}" itemLabel="#{categoria.dscNombre}"/>
                                <f:converter converterId="DiarioSenalCategoriaConverter" binding="#{DiarioSenalCategoriaConverter}" />
                                <p:ajax event="change" update="Serie_1" />
                            </xf:selectOneMenu> 

                            <h:panelGroup  id="Serie_1">
                                <h:panelGrid columns="2">

                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="2" fieldName="dsiSerieA" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="3" fieldName="dsiSerieB" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId==1}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="4" fieldName="dsiSerieC" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="5" fieldName="dsiSerieD" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="6" fieldName="dsiSerieVa" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId==1}"/>
                                </h:panelGrid>                                        
                            </h:panelGroup> 
                        </h:panelGrid>

                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >
                            <h:outputText value="#{msg.dsiLocalizacion}"/>
                            <h:panelGroup >
                                <h:panelGrid columns="3">
                                    <p:inputText style="width:80%;" id="Busqueda_1" value="#{diarioSenalEspecialBBean.busqueda}" tabindex="6">
                                        <p:ajax event="keyup" update="localizacionSelect_1"/>
                                        <p:ajax event="click" update="localizacionSelect_1"/>                                                
                                    </p:inputText>
                                    <p:watermark  value="#{msg.dsiBusquedaLocalizacion}" for="Busqueda_1"/>
                                    <h:panelGroup style="width:80%;" id="localizacionSelect_1" >
                                        <p:selectOneMenu  value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiLocalizacion}" tabindex="7">
                                            <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalLocalizaciones}" var="localizacion" itemValue="#{localizacion}" itemLabel="#{localizacion.dslAlias}" />
                                            <f:converter converterId="DiarioSenalLocalizacionConverter" binding="#{DiarioSenalLocalizacionConverter}" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>                                      

                                </h:panelGrid>
                            </h:panelGroup>

                            <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiCodigo" tabindex="8"/>

                            <xf:inputText rendered="false" entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiSolicitud" tabindex="9"/>

                            <h:outputText value="#{msg.dsiObservacion}"/>
                            <p:inputTextarea style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiObservacion}" tabindex="10"/>

                            <f:facet name="footer">                                     
                                <h:commandButton  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="11"/>
                            </f:facet>   
                        </h:panelGrid>                    
                    </h:form>

                    <!-- Form 2 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==2}"> 
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>

                        <h:panelGrid columns="4" styleClass="tabla_formulario  tabla_categoria_serie" >
                            <xf:selectOneMenu entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiCategoria" tabindex="12">
                                <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalCategorias}" var="categoria" itemValue="#{categoria}" itemLabel="#{categoria.dscNombre}"/>
                                <f:converter converterId="DiarioSenalCategoriaConverter" binding="#{DiarioSenalCategoriaConverter}" />
                                <p:ajax event="change" update="Serie_2" />
                            </xf:selectOneMenu> 

                            <h:panelGroup  id="Serie_2">
                                <h:panelGrid columns="2">

                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="13" fieldName="dsiSerieA" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="14" fieldName="dsiSerieB" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId==1}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="15" fieldName="dsiSerieC" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="16" fieldName="dsiSerieD" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId!=null}" />
                                    <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" tabindex="17" fieldName="dsiSerieVa" rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiCategoria.dscId==1}"/>                                        
                                </h:panelGrid>                                        
                            </h:panelGroup> 
                        </h:panelGrid>

                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >
                            <h:outputText value="#{msg.dsiLocalizacion}"/>
                            <h:panelGroup >
                                <h:panelGrid columns="3">
                                    <p:inputText style="width:80%;" id="Busqueda_2" value="#{diarioSenalEspecialBBean.busqueda}" tabindex="18">
                                        <p:ajax event="keyup" update="localizacionSelect_2"/>
                                        <p:ajax event="click" update="localizacionSelect_2"/>                                                
                                    </p:inputText>
                                    <p:watermark  value="#{msg.dsiBusquedaLocalizacion}" for="Busqueda_2"/>
                                    <h:panelGroup style="width:80%;" id="localizacionSelect_2">
                                        <p:selectOneMenu  value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiLocalizacion}" tabindex="19">
                                            <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalLocalizaciones}" var="localizacion" itemValue="#{localizacion}" itemLabel="#{localizacion.dslAlias}" />
                                            <f:converter converterId="DiarioSenalLocalizacionConverter" binding="#{DiarioSenalLocalizacionConverter}" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>                                      

                                </h:panelGrid>
                            </h:panelGroup>

                            <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiCodigo" tabindex="20"/>

                            <xf:inputText rendered="false" entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiSolicitud" tabindex="21"/>

                            <xf:inputText rendered="false" entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiAutorizado" tabindex="22"/>

                            <h:outputText value="#{msg.dsiErroresInternos}" />
                            <p:inputText  style="width:40%;"  value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiErroresInternos}" tabindex="23"/>


                            <h:outputText value="#{msg.dsiErroresExternos}" />
                            <p:inputText  style="width:40%;"  value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiErroresExternos}" tabindex="24"/>                                    

                            <f:facet name="footer">                                     
                                <p:commandButton ajax="false"  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="25"/>
                            </f:facet>  
                        </h:panelGrid>                    
                    </h:form>

                    <!--Form 3 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==3}"> 
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>                     

                        <h:panelGrid columns="4" styleClass="tabla_formulario tabla_actividades" >
                            <xf:selectOneMenu  style="width:40%;"  entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiPosicionTrabajo"  required="true" tabindex="26">
                                <f:selectItems value="#{diarioSenalEspecialBBean.posiciones}" var="ts" itemValue="#{ts.posicionNacional.pnAlias}" itemLabel="#{ts.posicionNacional.pnAlias}"/>                                                                                                
                            </xf:selectOneMenu>   

                            <h:outputText style="width:100px;" value="#{msg.dsiActividad}" />
                            <p:inputTextarea  style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiActividad}" tabindex="27"/>
                        </h:panelGrid>
                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >

                            <f:facet name="footer">                                     
                                <p:commandButton ajax="false"  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="28"/>
                            </f:facet>  
                        </h:panelGrid>             
                    </h:form>

                    <!--Form 4 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==4}"> 
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>                    


                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >
                            <h:outputText value="#{msg.dsiLocalizacion}"/>
                            <h:panelGroup>
                                <h:panelGrid columns="3">
                                    <p:inputText style="width:80%;" id="Busqueda_4" value="#{diarioSenalEspecialBBean.busqueda}" tabindex="28">
                                        <p:ajax event="keyup" update="localizacionSelect_4"/>
                                        <p:ajax event="click" update="localizacionSelect_4"/>                                                
                                    </p:inputText>
                                    <p:watermark  value="#{msg.dsiBusquedaLocalizacion}" for="Busqueda_4"/>
                                    <h:panelGroup style="width:80%;" id="localizacionSelect_4">
                                        <p:selectOneMenu  value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiLocalizacion}" tabindex="29">
                                            <f:selectItems value="#{diarioSenalEspecialBBean.diarioSenalLocalizaciones}" var="localizacion" itemValue="#{localizacion}" itemLabel="#{localizacion.dslAlias}" />
                                            <f:converter converterId="DiarioSenalLocalizacionConverter" binding="#{DiarioSenalLocalizacionConverter}" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>                                    

                                </h:panelGrid>
                            </h:panelGroup>
                            <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiDocumento" tabindex="31"/>
                            <h:outputText value="#{msg.dsiObservacion}" />
                            <p:inputTextarea style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiObservacion}" tabindex="32"/>

                            <f:facet name="footer">                                     
                                <h:commandButton  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="33"/>
                            </f:facet>  
                        </h:panelGrid>                    
                    </h:form>

                    <!-- Form 5 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==5}"> 
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>                    


                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >
                            <h:outputText value="#{msg.dsiHoraUtc}"  />
                            <h:panelGroup>
                                <h:panelGrid columns="2" style="width:40%;">
                                    <p:selectOneMenu value="#{diarioSenalEspecialBBean.horaUTC}" required="true" tabindex="34">
                                        <f:selectItem itemValue="#{null}" itemLabel=""/>
                                        <f:selectItems value="#{diarioSenalEspecialBBean.horasUTC}" var="hora" itemValue="#{hora}" itemLabel="#{hora}"/>
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{diarioSenalEspecialBBean.minutoUTC}" required="true" tabindex="35">
                                        <f:selectItem itemValue="#{null}" itemLabel=""/>
                                        <f:selectItems value="#{diarioSenalEspecialBBean.minutosUTC}" var="minuto" itemValue="#{minuto}" itemLabel="#{minuto}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid>
                            </h:panelGroup> 
                            <xf:inputText entity="#{diarioSenalEspecialBBean.diarioSenalInfo}" fieldName="dsiEquipoSoftware" tabindex="36"/>

                            <h:outputText value="#{msg.dsiFalla}" />
                            <p:inputTextarea style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiFalla}" tabindex="37"/>               

                            <h:outputText value="#{msg.dsiObservacion}" />
                            <p:inputTextarea style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiObservacion}" tabindex="38"/>

                            <f:facet name="footer">                                     
                                <h:commandButton  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="39"/>
                            </f:facet>  
                        </h:panelGrid>                    
                    </h:form>
                    <!-- Form 6 -->
                    <h:form rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId!=null and diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstId==6}"> 
                        <hr/>
                        <f:facet name="header">                                     
                            <h:outputText value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiTipo.dstNombre}"/>
                            <hr/>
                            <br/>
                        </f:facet>                    


                        <h:panelGrid columns="6" styleClass="tabla_formulario tabla_resto_info" >
                            <h:outputText value="#{msg.dsiHoraUtc}"  />
                            <h:panelGroup>
                                <h:panelGrid columns="2" style="width:40%;">
                                    <p:selectOneMenu value="#{diarioSenalEspecialBBean.horaUTC}" required="true" tabindex="40">
                                        <f:selectItem itemValue="#{null}" itemLabel=""/>
                                        <f:selectItems value="#{diarioSenalEspecialBBean.horasUTC}" var="hora" itemValue="#{hora}" itemLabel="#{hora}"/>
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{diarioSenalEspecialBBean.minutoUTC}" required="true" tabindex="41">
                                        <f:selectItem itemValue="#{null}" itemLabel=""/>
                                        <f:selectItems value="#{diarioSenalEspecialBBean.minutosUTC}" var="minuto" itemValue="#{minuto}" itemLabel="#{minuto}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid>
                            </h:panelGroup>               

                            <h:outputText value="#{msg.dsiObservacion}" />
                            <p:inputTextarea style="resize: none;height:100px;overflow:auto;" value="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiObservacion}" tabindex="42"/>

                            <f:facet name="footer">                                     
                                <h:commandButton  value="#{msg.dsiGuardar}" action="#{diarioSenalEspecialBBean.guardarDsi}" tabindex="43"/>
                            </f:facet>  
                        </h:panelGrid>                    
                    </h:form>




                </p:panel>



                <p:tabView  styleClass="marginTop tab_custom"  rendered="#{diarioSenalEspecialBBean.diarioSenalInfo.dsiId == null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId !=null}">
                    <p:tab title="#{msg.dst1_}">
                        <p:dataTable   styleClass="marginTop" value="#{diarioSenalEspecialBBean.dsiPorDti1}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst1}"/>
                            </f:facet>
                            <p:column width="15%" style="padding: 0px 0px;" headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario">                                    

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>
                            </p:column>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiLocalizacion}">                                         
                                <h:outputText value="#{info.dsiLocalizacion.dslAlias}"  />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiSerie}" >                                         
                                <h:outputText value="#{info.dsiSerie}"  />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiSolicitud}" rendered="false">                                         
                                <h:outputText value="#{info.dsiSolicitud}"  />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiCodigo}">                                         
                                <h:outputText value="#{info.dsiCodigo}"  />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiObservacion}" style="width:40%;" >                                         
                                <h:outputText value="#{info.dsiObservacion}" />                                        
                            </p:column>
                        </p:dataTable>
                    </p:tab>


                    <p:tab title="#{msg.dst2_}">
                        <p:dataTable  styleClass="marginTop"  value="#{diarioSenalEspecialBBean.dsiPorDti2}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst2}"  />
                            </f:facet>
                            <p:column headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">

                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario">                                   

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>
                            </p:column>

                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiLocalizacion}" >                                         
                                <h:outputText value="#{info.dsiLocalizacion.dslAlias}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiSerie}" >                                         
                                <h:outputText value="#{info.dsiSerie}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiSolicitud}" rendered="false">                                         
                                <h:outputText value="#{info.dsiSolicitud}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiCodigo}" >                                         
                                <h:outputText value="#{info.dsiCodigo}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiAutorizado}" rendered="false">                                         
                                <h:outputText value="#{info.dsiAutorizado}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiErroresInternos}">                                         
                                <h:outputText value="#{info.dsiErroresInternos}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiErroresExternos}">                                         
                                <h:outputText value="#{info.dsiErroresExternos}" />                                        
                            </p:column>
                        </p:dataTable>           

                    </p:tab>




                    <p:tab title="#{msg.dst3_}" titleStyle="tabColor">
                        <p:dataTable  styleClass="marginTop" value="#{diarioSenalEspecialBBean.dsiPorDti3}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst3}"/>
                            </f:facet>
                            <p:column width="15%" style="padding: 0px 0px;" headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario"> 

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>
                            </p:column>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiPosicionTrabajo}" width="18%" >                                         
                                <h:outputText value="#{info.dsiPosicionTrabajo}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiActividad}"  style="width:70%;">                                         
                                <h:outputText value="#{info.dsiActividad}" />                                        
                            </p:column>
                        </p:dataTable>

                    </p:tab>




                    <p:tab title="#{msg.dst4_}">
                        <p:dataTable  styleClass="marginTop"  value="#{diarioSenalEspecialBBean.dsiPorDti4}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst4}"/>
                            </f:facet>
                            <p:column width="15%" style="padding: 0px 0px;" headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario">                                  

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>
                            </p:column>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiLocalizacion}" >                                         
                                <h:outputText value="#{info.dsiLocalizacion.dslAlias}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiDocumento}" >                                         
                                <h:outputText value="#{info.dsiDocumento}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiObservacion}"  style="width:60%;">                                         
                                <h:outputText value="#{info.dsiObservacion}" />                                        
                            </p:column>
                        </p:dataTable>

                    </p:tab>




                    <p:tab title="#{msg.dst5_}">
                        <p:dataTable  styleClass="marginTop"  value="#{diarioSenalEspecialBBean.dsiPorDti5}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst5}"/>
                            </f:facet>
                            <p:column headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario">                                     

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>
                            </p:column>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiEquipoSoftware}" >                                         
                                <h:outputText value="#{info.dsiEquipoSoftware}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiHoraUtc}" >                                         
                                <h:outputText value="#{info.dsiHoraUtc}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiFalla}"  >                                         
                                <h:outputText value="#{info.dsiFalla}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiObservacion}"  >                                         
                                <h:outputText value="#{info.dsiObservacion}" />                                        
                            </p:column>
                        </p:dataTable>

                    </p:tab>



                    <p:tab title="#{msg.dst6_}">
                        <p:dataTable styleClass="marginTop" value="#{diarioSenalEspecialBBean.dsiPorDti6}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst6}"/>
                            </f:facet>
                            <p:column width="15%" style="padding: 0px 0px;" headerText="" rendered="#{diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                <h:form>
                                    <h:panelGrid columns="2" styleClass="sinBorde tabla_formulario">                                    

                                        <p:commandButton icon="ui-icon-trash" oncomplete="confirmation.show()" title="#{msg.eliminar}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton>   
                                        <p:commandButton icon="ui-icon-pencil"  action="#{diarioSenalEspecialBBean.editarDsi}" rendered="#{info.dsiDiarioSenalFuncionario.dsfId == diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfId!=null and diarioSenalEspecialBBean.diarioSenalFuncionario.dsfEstado=='ABIERTO' and diarioSenalEspecialBBean.diarioSenalEspecial.dseEstado=='ABIERTO'}">
                                            <f:setPropertyActionListener value="#{info}" target="#{diarioSenalEspecialBBean.diarioSenalInfoSeleccionado}"/>
                                        </p:commandButton> 

                                    </h:panelGrid>
                                </h:form>

                            </p:column>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{info.dsiDiarioSenalFuncionario.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsiHoraUtc}" >                                         
                                <h:outputText value="#{info.dsiHoraUtc}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiObservacion}"  style="width:60%;">                                         
                                <h:outputText value="#{info.dsiObservacion}" />                                        
                            </p:column>
                        </p:dataTable>


                    </p:tab>




                    <p:tab title="#{msg.dst7_}">


                        <p:dataTable styleClass="marginTop" value="#{diarioSenalEspecialBBean.listaCierreTurno}" var="info" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!=null}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.dst7}"/>
                            </f:facet>

                            <p:column headerText="#{msg.dsiProducto}" >                                         
                                <h:outputText value="#{info[1]}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiSerie}">                                         
                                <h:outputText value="#{info[2]}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiCantidadPublicados}" >                                         
                                <h:outputText value="#{info[3]}" />                                        
                            </p:column>

                            <p:column headerText="#{msg.dsiCantErrInternos}">                                         
                                <h:outputText value="#{info[4]}" />                                        
                            </p:column>
                            <p:column headerText="#{msg.dsiCantErrExterno}" >                                         
                                <h:outputText value="#{info[5]}" />                                        
                            </p:column>
                        </p:dataTable>


                    </p:tab>




                </p:tabView>







                <p:dialog widgetVar="confirmation_cerrar_dse" resizable="false" header="#{msg.dsiConfirmaCerrar}" id="dseCerrar" showEffect="fade" hideEffect="explode" modal="true">
                    <h:form>
                        <p:dataTable   styleClass="marginTop" value="#{diarioSenalEspecialBBean.funcionarios}" var="dsf" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId!= null}">
                            <f:facet name="header">
                                <h:outputText style="color:#fff;" value="#{msg.dseFuncionariosFaltantes}"/>
                            </f:facet>
                            <p:column headerText="#{msg.dsfFuncionario}" >                                         
                                <h:outputText value="#{dsf.dsfFuncionario.funAlias}" />
                            </p:column>
                            <p:column headerText="#{msg.dsfPosicion}" >                                         
                                <h:outputText value="#{dsf.dsfPosicion.posicionNacional.pnAlias}" />
                            </p:column>
                        </p:dataTable>
                        <h:panelGrid styleClass="marginTop" columns="2">                           


                            <p:commandButton value="#{msg.dsiConfirmar}" action="#{diarioSenalEspecialBBean.cerrarDse}" />                                    
                            <p:commandButton value="#{msg.cancelar}" onclick="confirmation_cerrar_dse.hide()"/>


                        </h:panelGrid>
                    </h:form> 
                </p:dialog>    




                <p:dialog widgetVar="confirmation" resizable="false" header="#{msg.dsiConfirmacion}" id="dsiSeleccionado" showEffect="fade" hideEffect="explode" modal="true">
                    <h:form>           
                        <h:panelGrid styleClass="marginTop" columns="2">                         


                            <p:commandButton value="#{msg.dsiConfirmar}" action="#{diarioSenalEspecialBBean.eliminarDsi}" />                                    
                            <p:commandButton value="#{msg.cancelar}" onclick="confirmation.hide()"/>


                        </h:panelGrid>
                    </h:form> 
                </p:dialog>

                <h:form styleClass="marginTop" rendered="false">   
                    <p:commandButton  action="#{diarioSenalEspecialBBean.registrar}" value="#{msg.actualizar}"/>                    
                </h:form>


                <h:form styleClass="marginTop" rendered="#{diarioSenalEspecialBBean.diarioSenalEspecial.dseId==null and diarioSenalEspecialBBean.jornada.joId != null}">  
                    <h:panelGrid columns="2" styleClass="tabla_aviso">
                        <h:outputText value="#{msg.dseAdvertenica}"/>                          
                        <h:commandButton  action="#{diarioSenalEspecialBBean.registrarDse}" value="#{msg.continuar}"/>                    

                    </h:panelGrid>

                </h:form>


            </ui:define> 
        </ui:composition>    
    </h:body>
</html>